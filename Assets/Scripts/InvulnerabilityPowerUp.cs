using System.Collections;
using UnityEngine;

public class InvulnerabilityPowerUp : Collectable
{
    [SerializeField] PlayerTriggerCollider playerCollider;
    [SerializeField] PlayerMaterial playerMaterial;

    [SerializeField] float powerUpDuration = 2.0f;


    public override void Collect() {
        transform.position = Vector3.down * 5.0f;
        base.Collect();
        StartCoroutine(GainInvulnerability());
    }

    IEnumerator GainInvulnerability() {
        playerCollider.SetInvulnerability(true);
        playerMaterial.SetMaterialsColor(Color.green);

        yield return new WaitForSeconds(powerUpDuration);

        playerMaterial.SetMaterialsColor(Color.white);
        playerCollider.SetInvulnerability(false);

        Destroy(gameObject);
    }
}
